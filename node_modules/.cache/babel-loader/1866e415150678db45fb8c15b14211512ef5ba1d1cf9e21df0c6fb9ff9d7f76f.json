{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ASUS/Downloads/go_projects/FileSharing/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ASUS/Downloads/go_projects/FileSharing/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ASUS/Downloads/go_projects/FileSharing/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState,useEffect}from'react';import'./App.css';import{uploadFile}from'./services/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),result=_useState4[0],setResult=_useState4[1];var fileInputRef=useRef();var logo=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWcOhU4Ej0qKpZrjffn3KwbyD9quINYnlCrw&usqp=CAU\";useEffect(function(){var getImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!file){_context.next=9;break;}data=new FormData();data.append(\"name\",file.name);data.append(\"file\",file);_context.next=6;return uploadFile(data);case 6:response=_context.sent;console.log(\"hello\");setResult(response.path);case 9:case\"end\":return _context.stop();}},_callee);}));return function getImage(){return _ref.apply(this,arguments);};}();getImage();},[file]);var onUploadClick=function onUploadClick(){fileInputRef.current.click();};console.log(file);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"banner\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Simple File Sharing\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload And Share the download link\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return onUploadClick();},children:\"Upload\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,style:{display:'none'},onChange:function onChange(e){return setFile(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"a\",{href:result,target:\"_blank\",children:result})]})]});}export default App;","map":{"version":3,"names":["useRef","useState","useEffect","uploadFile","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","file","setFile","_useState3","_useState4","result","setResult","fileInputRef","logo","getImage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","response","wrap","_callee$","_context","prev","next","FormData","append","name","sent","console","log","path","stop","apply","arguments","onUploadClick","current","click","className","children","src","alt","onClick","type","ref","style","display","onChange","e","target","files","href"],"sources":["C:/Users/ASUS/Downloads/go_projects/FileSharing/client/src/App.js"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\nimport './App.css';\nimport { uploadFile } from './services/api';\n\nfunction App() {\n  const [file,setFile] = useState('');\n  const [result, setResult] = useState('');\n  const fileInputRef = useRef();\n  const logo = \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWcOhU4Ej0qKpZrjffn3KwbyD9quINYnlCrw&usqp=CAU\";  \n  useEffect(() => {\n    const getImage = async () => {\n      if(file){\n        const data = new FormData();\n        data.append(\"name\", file.name);\n        data.append(\"file\",file);\n        let response = await uploadFile(data);\n        console.log(\"hello\")\n        setResult(response.path);\n      }\n    }\n    getImage();\n  },[file]);\n  const onUploadClick = () => {\n    fileInputRef.current.click();\n  }\n  console.log(file)\n  return (\n   <div className=\"container\">\n    <img src={logo} alt=\"banner\" />\n    <div className=\"wrapper\">\n      <h1>Simple File Sharing</h1>\n      <p>Upload And Share the download link</p>\n      <button onClick={() => onUploadClick()}>Upload</button>\n      <input type=\"file\" \n        ref={fileInputRef}\n        style={{ display: 'none' }}\n        onChange={(e) => setFile(e.target.files[0])}\n      />\n        <a href={result} target=\"_blank\">{result}</a>\n    </div>\n   </div>\n  );\n}\n\nexport default App;\n\n\n\n"],"mappings":"obAAA,OAASA,MAAM,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACnD,MAAO,WAAW,CAClB,OAASC,UAAU,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAAuBR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5BG,IAAI,CAAAF,UAAA,IAACG,OAAO,CAAAH,UAAA,IACnB,IAAAI,UAAA,CAA4Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,GAAM,CAAAG,YAAY,CAAGlB,MAAM,CAAC,CAAC,CAC7B,GAAM,CAAAmB,IAAI,CAAG,qGAAqG,CAClHjB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAkB,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,IAAA,CAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,aACZpB,IAAI,EAAAkB,QAAA,CAAAE,IAAA,UACCN,IAAI,CAAG,GAAI,CAAAO,QAAQ,CAAC,CAAC,CAC3BP,IAAI,CAACQ,MAAM,CAAC,MAAM,CAAEtB,IAAI,CAACuB,IAAI,CAAC,CAC9BT,IAAI,CAACQ,MAAM,CAAC,MAAM,CAACtB,IAAI,CAAC,CAACkB,QAAA,CAAAE,IAAA,SACJ,CAAA7B,UAAU,CAACuB,IAAI,CAAC,QAAjCC,QAAQ,CAAAG,QAAA,CAAAM,IAAA,CACZC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CACpBrB,SAAS,CAACU,QAAQ,CAACY,IAAI,CAAC,CAAC,wBAAAT,QAAA,CAAAU,IAAA,MAAAf,OAAA,GAE5B,kBATK,CAAAL,QAAQA,CAAA,SAAAC,IAAA,CAAAoB,KAAA,MAAAC,SAAA,OASb,CACDtB,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAC,CAACR,IAAI,CAAC,CAAC,CACT,GAAM,CAAA+B,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1BzB,YAAY,CAAC0B,OAAO,CAACC,KAAK,CAAC,CAAC,CAC9B,CAAC,CACDR,OAAO,CAACC,GAAG,CAAC1B,IAAI,CAAC,CACjB,mBACCL,KAAA,QAAKuC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzB1C,IAAA,QAAK2C,GAAG,CAAE7B,IAAK,CAAC8B,GAAG,CAAC,QAAQ,CAAE,CAAC,cAC/B1C,KAAA,QAAKuC,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtB1C,IAAA,OAAA0C,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5B1C,IAAA,MAAA0C,QAAA,CAAG,oCAAkC,CAAG,CAAC,cACzC1C,IAAA,WAAQ6C,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAP,aAAa,CAAC,CAAC,EAAC,CAAAI,QAAA,CAAC,QAAM,CAAQ,CAAC,cACvD1C,IAAA,UAAO8C,IAAI,CAAC,MAAM,CAChBC,GAAG,CAAElC,YAAa,CAClBmC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC3BC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA3C,OAAO,CAAC2C,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAC,CAC7C,CAAC,cACArD,IAAA,MAAGsD,IAAI,CAAE3C,MAAO,CAACyC,MAAM,CAAC,QAAQ,CAAAV,QAAA,CAAE/B,MAAM,CAAI,CAAC,EAC5C,CAAC,EACF,CAAC,CAET,CAEA,cAAe,CAAAR,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}